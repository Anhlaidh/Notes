# 面试
## JVM
jvisualvm
### 栈
#### 栈帧
1. 局部变量表
2. 操作数栈
3. 动态链接
4. 方法出口
### 程序计数器
### javap
`javap -c xxx.class`反编译 `> xxx.txt`
### 堆
1. 年轻代(1/3)
    - Eden(8/10)(minor gc区)
    - Survivor区(2/10)
        - s0(1/10)
        - s1(1/10)
2. 老年代(2/3)

#### 垃圾回收
1. Eden堆满 -->minorgc( 查找gcRoot-->可达性分析算法 -->分代年龄+1 -->复制到s0堆,清理Eden)
2. Eden堆满 -->minorgc( 查找gcRoot-->可达性分析算法 -->分代年龄+1 -->复 制到s1堆,清理Eden+s1)
之后s1 s2 反复横跳
3. 分代年龄>=15时,转移到老年代堆
4. 老年代堆满-->full gc -不能回收-> OOM

### 调优
目的: 减少STW(stop the world)
gc的时候会停止所有线程 为什么?

## MySQL
慢SQL -优化-> 加索引
索引:
采用B+树数据结构,两次IO,内存取数
16kb一层 1170*1170*16,单个节点8kb,6kb

聚集索引:叶子节点包含数据
非聚集索引:MYI查找后从MYD中找数据(通过磁盘地址)
innodb 必有主键索引,如果没设置,会构建隐藏列维护表结构