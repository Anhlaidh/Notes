<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-30T19:18:20.832678"><title>Tank War 设计 | Notes</title><script type="application/json" id="virtual-toc-data">[{"id":"-fvgzu7_215","level":0,"title":"笔记","anchor":"#-fvgzu7_215"},{"id":"-fvgzu7_224","level":0,"title":"面向对象编程的原则","anchor":"#-fvgzu7_224"},{"id":"-fvgzu7_242","level":0,"title":"主流程","anchor":"#-fvgzu7_242"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Tank War 设计 | Notes"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Notes Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/notes/0.1/tankwar.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Tank War 设计 | Notes"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/notes/0.1/tankwar.html#webpage",
    "url": "writerside-documentation/notes/0.1/tankwar.html",
    "name": "Tank War 设计 | Notes",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentationnotes/#website",
    "url": "writerside-documentationnotes/",
    "name": "Notes Help"
}</script><!-- End Schema.org --></head><body data-id="TankWar" data-main-title="Tank War 设计" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="README.md|Notes///java///notes///设计模式"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Notes 0.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="TankWar" id="TankWar.md">Tank War 设计</h1><section class="chapter"><h2 id="-fvgzu7_215" data-toc="-fvgzu7_215">笔记</h2><ul class="list _bullet" id="-fvgzu7_216"><li class="list__item" id="-fvgzu7_217"><p>同时按下两个方向键 </p><ol class="list _decimal" id="-fvgzu7_218" type="1"><li class="list__item" id="-fvgzu7_219"><p>KeyEvent传进来,switch一次只处理完一个就break了,以至于不能斜向移动 </p><ul class="list _bullet" id="-fvgzu7_220"><li class="list__item" id="-fvgzu7_221"><p>方向键设置为boolean press事件是变成true release时间变成false</p></li><li class="list__item" id="-fvgzu7_222"><p>方向固定的话,使用枚举避免错误可能 enum</p></li></ul></li><li class="list__item" id="-fvgzu7_223"><p>该在哪里重写呢?</p></li></ol></li></ul></section><section class="chapter"><h2 id="-fvgzu7_224" data-toc="-fvgzu7_224">面向对象编程的原则</h2><ul class="list _bullet" id="-fvgzu7_225"><li class="list__item" id="-fvgzu7_226"><p>封装 </p><ul class="list _bullet" id="-fvgzu7_227"><li class="list__item" id="-fvgzu7_228"><p>每个x,y,dir都应只属于一个坦克,封装出来,避免代码冗余 </p><ul class="list _bullet" id="-fvgzu7_229"><li class="list__item" id="-fvgzu7_230"><p>如果封装完直接tank.x,就相当于封装再拆封,破坏了封装性 </p><ul class="list _bullet" id="-fvgzu7_231"><li class="list__item" id="-fvgzu7_232"><p>画tank把画笔给tank,让tank自己画自己</p></li></ul></li></ul></li></ul></li><li class="list__item" id="-fvgzu7_233"><p>继承</p></li><li class="list__item" id="-fvgzu7_234"><p>多态</p></li><li class="list__item" id="-fvgzu7_235"><p>持有对方的引用</p></li></ul><section class="chapter"><h3 id="-fvgzu7_236" data-toc="-fvgzu7_236">思路</h3><ul class="list _bullet" id="-fvgzu7_237"><li class="list__item" id="-fvgzu7_238"><p>编程的竞争力在技术还是在设计</p></li><li class="list__item" id="-fvgzu7_239"><p>为什么用tank war </p><ul class="list _bullet" id="-fvgzu7_240"><li class="list__item" id="-fvgzu7_241"><p>学面向对象举例汽车,动物,有功能,有联系</p></li></ul></li></ul></section></section><section class="chapter"><h2 id="-fvgzu7_242" data-toc="-fvgzu7_242">主流程</h2><ol class="list _decimal" id="-fvgzu7_243" type="1"><li class="list__item" id="-fvgzu7_244"><p>学习Frame几个属性方法</p></li><li class="list__item" id="-fvgzu7_245"><p>设置方向移动 </p><ol class="list _decimal" id="-fvgzu7_246" type="1"><li class="list__item" id="-fvgzu7_247"><p>移动控制需要改进 </p><ol class="list _decimal" id="-fvgzu7_248" type="1"><li class="list__item" id="-fvgzu7_249"><p>设立enum,setDir</p></li><li class="list__item" id="-fvgzu7_250"><p>repaint</p></li></ol></li></ol></li><li class="list__item" id="-fvgzu7_251"><p>封装tank,移交画笔控制权(设计的概念)</p></li><li class="list__item" id="-fvgzu7_252"><p>处理tank静止状态 </p><ul class="list _bullet" id="-fvgzu7_253"><li class="list__item" id="-fvgzu7_254"><p>tank.moving = false </p><ul class="list _bullet" id="-fvgzu7_255"><li class="list__item" id="-fvgzu7_256"><p>如果ismoving,移动,否则return</p></li><li class="list__item" id="-fvgzu7_257"><p>在setDir的时候判断是否bU bR bD bL是否全为false 否则moving</p></li></ul></li></ul></li><li class="list__item" id="-fvgzu7_258"><p>创建Bullet 子弹 </p><ul class="list _bullet" id="-fvgzu7_259"><li class="list__item" id="-fvgzu7_260"><p>分析需要的属性, x,y,speed,dir </p><ul class="list _bullet" id="-fvgzu7_261"><li class="list__item" id="-fvgzu7_262"><p>move方法相同,需要重构吗?</p></li></ul></li></ul></li><li class="list__item" id="-fvgzu7_263"><p>双缓冲,不用深究 </p><ul class="list _bullet" id="-fvgzu7_264"><li class="list__item" id="-fvgzu7_265"><p>闪烁是因为加载速度和屏幕刷新速度不一致</p></li><li class="list__item" id="-fvgzu7_266"><p>先在内存中画好,再刷到屏幕上</p></li><li class="list__item" id="-fvgzu7_267"><p>创建一个图片,画一遍,然后g.drawImage把图片画到屏幕上</p></li><li class="list__item" id="-fvgzu7_268"><p>repaint先update,再paint</p></li></ul></li><li class="list__item" id="-fvgzu7_269"><p>子弹发射 </p><ul class="list _bullet" id="-fvgzu7_270"><li class="list__item" id="-fvgzu7_271"><p>按键绑定,tank.fire()创建子弹,怎么把子弹放到主窗口渲染出来呢?</p></li><li class="list__item" id="-fvgzu7_272"><p>多个子弹 list,遍历print </p><ul class="list _bullet" id="-fvgzu7_273"><li class="list__item" id="-fvgzu7_274"><p>不会remove,内存泄漏!!!!不清除会溢出 </p><ul class="list _bullet" id="-fvgzu7_275"><li class="list__item" id="-fvgzu7_276"><p>子弹飞出窗口就remove掉 </p><ul class="list _bullet" id="-fvgzu7_277"><li class="list__item" id="-fvgzu7_278"><p>子弹添加live属性</p></li><li class="list__item" id="-fvgzu7_279"><p>出去就remove this ,所以需要拿到frame的引用,至此,tank和bullet都拿到了frame的引用了</p></li></ul></li></ul></li></ul></li></ul></li><li class="list__item" id="-fvgzu7_280"><p>Junit test </p><ul class="list _bullet" id="-fvgzu7_281"><li class="list__item" id="-fvgzu7_282"><p>测试路径</p></li><li class="list__item" id="-fvgzu7_283"><p>classLoader来找</p></li></ul></li><li class="list__item" id="-fvgzu7_284"><p>load图片</p></li></ol></section><div class="last-modified">Last modified: 30 四月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="redis.html" class="navigation-links__prev">Redis</a><a href="多线程与高并发.html" class="navigation-links__next">Table of Contents</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>