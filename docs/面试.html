<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-30T19:18:20.816441"><title>面试 | Notes</title><script type="application/json" id="virtual-toc-data">[{"id":"jvm","level":0,"title":"JVM","anchor":"#jvm"},{"id":"mysql","level":0,"title":"MySQL","anchor":"#mysql"},{"id":"redis","level":0,"title":"Redis","anchor":"#redis"},{"id":"jmm","level":0,"title":"JMM","anchor":"#jmm"},{"id":"hashmap","level":0,"title":"HashMap","anchor":"#hashmap"},{"id":"spring","level":0,"title":"Spring","anchor":"#spring"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="面试 | Notes"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Notes Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/notes/0.1/面试.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="面试 | Notes"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/notes/0.1/面试.html#webpage",
    "url": "writerside-documentation/notes/0.1/面试.html",
    "name": "面试 | Notes",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentationnotes/#website",
    "url": "writerside-documentationnotes/",
    "name": "Notes Help"
}</script><!-- End Schema.org --></head><body data-id="面试" data-main-title="面试" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="README.md|Notes///java///notes"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Notes 0.1 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="面试" id="面试.md">面试</h1><section class="chapter"><h2 id="jvm" data-toc="jvm">JVM</h2><section class="chapter"><h3 id="s7cmy_485" data-toc="s7cmy_485">类加载器</h3><ul class="list _bullet" id="s7cmy_486"><li class="list__item" id="s7cmy_487"><p id="s7cmy_488">双亲委派机制:安全</p><ul class="list _bullet" id="s7cmy_489"><li class="list__item" id="s7cmy_490"><p>App--&gt;EXC--BOOT(最终执行)</p></li></ul><ol class="list _decimal" id="s7cmy_491" type="1"><li class="list__item" id="s7cmy_492"><p>类加载器收到类加载的请求</p></li><li class="list__item" id="s7cmy_493"><p>将这个请求向上托付给父类加载器去完成,一直向上委托,直到启动类加载器</p></li><li class="list__item" id="s7cmy_494"><p>启动加载器检查是否能够加载当前这个类,能加载就结束,使用当前加载器,否则抛出异常,通知子类加载器进行加载</p></li><li class="list__item" id="s7cmy_495"><p>重复步骤3</p></li></ol><ul class="list _bullet" id="s7cmy_496"><li class="list__item" id="s7cmy_497"><p>最底层用c写,所以返回null,java获取不到</p></li></ul></li><li class="list__item" id="s7cmy_498"><p id="s7cmy_499">BootstrapClassLoader（启动类加载器）</p><ul class="list _bullet" id="s7cmy_500"><li class="list__item" id="s7cmy_501"><p>c++编写，加载java核心库 java.*,构造ExtClassLoader和AppClassLoader。由于引导类加载器涉及到虚拟机本地实现细节，开发者无法直接获取到启动类加载器的引用，所以不允许直接通过引用进行操作</p></li></ul></li><li class="list__item" id="s7cmy_502"><p id="s7cmy_503">ExtClassLoader （标准扩展类加载器）</p><ul class="list _bullet" id="s7cmy_504"><li class="list__item" id="s7cmy_505"><p>java编写，加载扩展库，如classpath中的jre ，javax.*或者java.ext.dir 指定位置中的类，开发者可以直接使用标准扩展类加载器。</p></li></ul></li><li class="list__item" id="s7cmy_506"><p id="s7cmy_507">AppClassLoader（系统类加载器）</p><ul class="list _bullet" id="s7cmy_508"><li class="list__item" id="s7cmy_509"><p>java编写，加载程序所在的目录，如user.dir所在的位置的class</p></li></ul></li></ul><p id="s7cmy_510">CustomClassLoader（用户自定义类加载器） java编写,用户自定义的类加载器,可加载指定路径的class文件</p></section><section class="chapter"><h3 id="s7cmy_511" data-toc="s7cmy_511">沙箱安全机制</h3></section><section class="chapter"><h3 id="native" data-toc="native">native</h3><ul class="list _bullet" id="s7cmy_512"><li class="list__item" id="s7cmy_513"><p>凡是带了native关键字的,说明java的作用范围达不到了,去底层调用c语言,会进入本地方法栈 java native interface</p></li><li class="list__item" id="s7cmy_514"><p>JNI :扩展Java的使用,融合不同的编程语言为Java所用</p></li></ul></section><section class="chapter"><h3 id="pc" data-toc="pc">PC 寄存器</h3><ul class="list _bullet" id="s7cmy_515"><li class="list__item" id="s7cmy_516"><p>每个线程都有一个程序计数器,是线程私有的,是一个指针,指向方法去种的方法字节码(用来存储指向像一条指令的地址 ,也即将要执行的代码),在执行引擎读取下一条指令,是一个非常小的空间,几乎可以忽略不计</p></li></ul></section><section class="chapter"><h3 id="s7cmy_517" data-toc="s7cmy_517">方法区</h3><ul class="list _bullet" id="s7cmy_518"><li class="list__item" id="s7cmy_519"><p>方法去被所有线程共享,所有字段和方法字节码,以及一些特殊方法,如构造函数,接口代码也在此定义 简单说,所有定义的方法都保存在该区域,此区域属于共享区间 </p><ul class="list _bullet" id="s7cmy_520"><li class="list__item" id="s7cmy_521"><p>静态变量,常量,类信息(构造方法,接口定义),运行时的常量池存在方法区中,但是实例变量存在堆内存中,和方法区无关 jvisualvm</p></li></ul></li></ul><figure id="s7cmy_522"><img alt="B6958258" src="images/b6958258.png" title="B6958258" width="967" height="575"></figure></section><section class="chapter"><h3 id="s7cmy_523" data-toc="s7cmy_523">栈</h3><section class="chapter"><h4 id="s7cmy_524" data-toc="s7cmy_524">栈帧</h4><p id="s7cmy_525">一个方法对应一块栈帧内存区域</p><ol class="list _decimal" id="s7cmy_526" type="1"><li class="list__item" id="s7cmy_527"><p>局部变量表</p></li><li class="list__item" id="s7cmy_528"><p>操作数栈</p></li><li class="list__item" id="s7cmy_529"><p>动态链接</p></li><li class="list__item" id="s7cmy_530"><p>方法出口 </p><figure id="s7cmy_531"><img alt="50cad566" src="images/50cad566.png" title="50cad566" width="1623" height="723"></figure></li></ol></section></section><section class="chapter"><h3 id="s7cmy_532" data-toc="s7cmy_532">程序计数器</h3></section><section class="chapter"><h3 id="javap" data-toc="javap">javap</h3><p id="s7cmy_533"><code class="code" id="s7cmy_534">javap -c xxx.class</code>反编译 <code class="code" id="s7cmy_535">&gt; xxx.txt</code></p></section><section class="chapter"><h3 id="s7cmy_536" data-toc="s7cmy_536">堆</h3><section class="chapter"><h4 id="s7cmy_537" data-toc="s7cmy_537">直接内存</h4><figure id="s7cmy_538"><img alt="16679085" src="images/16679085.png" title="16679085" width="1093" height="183"></figure><ol class="list _decimal" id="s7cmy_539" type="1"><li class="list__item" id="s7cmy_540"><p>年轻代(1/3) </p><ul class="list _bullet" id="s7cmy_541"><li class="list__item" id="s7cmy_542"><p>Eden(8/10)(minor gc区)</p></li><li class="list__item" id="s7cmy_543"><p>Survivor区(2/10) </p><ul class="list _bullet" id="s7cmy_544"><li class="list__item" id="s7cmy_545"><p>s0(1/10)</p></li><li class="list__item" id="s7cmy_546"><p>s1(1/10)</p></li></ul></li></ul></li><li class="list__item" id="s7cmy_547"><p>老年代(2/3)</p></li></ol></section><section class="chapter"><h4 id="s7cmy_548" data-toc="s7cmy_548">垃圾回收</h4><ul class="list _bullet" id="s7cmy_549"><li class="list__item" id="s7cmy_550"><p id="s7cmy_551">gcRoot : 线程栈的本地变量,静态变量,本地方法栈的变量等等</p></li><li class="list__item" id="s7cmy_552"><p id="s7cmy_553">Object</p></li><li class="list__item" id="s7cmy_554"><p id="s7cmy_555">jdk1.6之前:永久代,常量池在方法区</p></li><li class="list__item" id="s7cmy_556"><p id="s7cmy_557">jdk1.7:永久代,慢慢退化, <code class="code" id="s7cmy_558">去永久代</code> ,常量池在堆中</p></li><li class="list__item" id="s7cmy_559"><p id="s7cmy_560">jdk1.8之后:无永久代,常量池在元空间</p></li></ul><figure id="s7cmy_561"><img alt="7fa854e9" src="images/7fa854e9.png" title="7fa854e9" width="1362" height="331"></figure><ol class="list _decimal" id="s7cmy_562" type="1"><li class="list__item" id="s7cmy_563"><p>Eden堆满 --&gt;minorgc( 查找gcRoot--&gt;可达性分析算法 --&gt;分代年龄+1 --&gt;复制到s0堆,清理Eden)</p></li><li class="list__item" id="s7cmy_564"><p>Eden堆满 --&gt;minorgc( 查找gcRoot--&gt;可达性分析算法 --&gt;分代年龄+1 --&gt;复 制到s1堆,清理Eden+s1) 之后s1 s2 反复横跳</p></li><li class="list__item" id="s7cmy_565"><p>分代年龄&gt;=15时,转移到老年代堆</p></li><li class="list__item" id="s7cmy_566"><p>老年代堆满--&gt;full gc -不能回收-&gt; OOM</p></li></ol></section></section><section class="chapter"><h3 id="s7cmy_567" data-toc="s7cmy_567">调优</h3><ul class="list _bullet" id="s7cmy_568"><li class="list__item" id="s7cmy_569"><p>目的: 减少STW(stop the world)</p></li><li class="list__item" id="s7cmy_570"><p>gc的时候会停止所有线程 为什么?</p></li></ul></section></section><section class="chapter"><h2 id="mysql" data-toc="mysql">MySQL</h2><ul class="list _bullet" id="s7cmy_571"><li class="list__item" id="s7cmy_572"><p id="s7cmy_573">慢SQL -优化-&gt; 加索引</p></li><li class="list__item" id="s7cmy_574"><p id="s7cmy_575">索引: 采用B+树数据结构,两次IO,内存取数 16kb一层 1170<span class="emphasis" id="s7cmy_576">1170</span>16,单个节点8kb,6kb</p></li><li class="list__item" id="s7cmy_577"><p id="s7cmy_578">聚集索引:叶子节点包含数据</p></li><li class="list__item" id="s7cmy_579"><p id="s7cmy_580">非聚集索引:MYI查找后从MYD中找数据(通过磁盘地址)</p></li><li class="list__item" id="s7cmy_581"><p id="s7cmy_582">innodb 必有主键索引,如果没设置,会构建隐藏列维护表结构</p></li></ul><p id="s7cmy_583">联合索引 排序 数据结构 B+Tree</p></section><section class="chapter"><h2 id="redis" data-toc="redis">Redis</h2></section><section class="chapter"><h2 id="jmm" data-toc="jmm">JMM</h2><p id="s7cmy_584">JSR-133</p><section class="chapter"><h3 id="s7cmy_585" data-toc="s7cmy_585">并行消息</h3><ul class="list _bullet" id="s7cmy_586"><li class="list__item" id="s7cmy_587"><p id="s7cmy_588">线程:程序进行的载体</p></li><li class="list__item" id="s7cmy_589"><p id="s7cmy_590">JMM 八大原子操作</p><ul class="list _bullet" id="s7cmy_591"><li class="list__item" id="s7cmy_592"><p>lock</p></li><li class="list__item" id="s7cmy_593"><p>unlock</p></li><li class="list__item" id="s7cmy_594"><p>read</p></li><li class="list__item" id="s7cmy_595"><p>load</p></li><li class="list__item" id="s7cmy_596"><p>use</p></li><li class="list__item" id="s7cmy_597"><p>assign</p></li><li class="list__item" id="s7cmy_598"><p>store</p></li><li class="list__item" id="s7cmy_599"><p>write</p></li></ul></li><li class="list__item" id="s7cmy_600"><p id="s7cmy_601">volatile 可见性原理</p><ul class="list _bullet" id="s7cmy_602"><li class="list__item" id="s7cmy_603"><p>底层实现: 通过汇编lock前缀指令触发底层缓存锁定机制(缓存一致性协议&amp;总线锁)</p></li></ul></li><li class="list__item" id="s7cmy_604"><p id="s7cmy_605">缓存一致性协议:</p><ul class="list _bullet" id="s7cmy_606"><li class="list__item" id="s7cmy_607"><p>msi mesi</p></li></ul></li></ul></section><section class="chapter"><h3 id="s7cmy_608" data-toc="s7cmy_608">分布式锁</h3><ul class="list _bullet" id="s7cmy_609"><li class="list__item" id="s7cmy_610"><p>synchronized </p><ul class="list _bullet" id="s7cmy_611"><li class="list__item" id="s7cmy_612"><p>基于c++,语言实现的同步机制</p></li></ul></li><li class="list__item" id="s7cmy_613"><p>AQS 同步器</p></li></ul></section></section><section class="chapter"><h2 id="hashmap" data-toc="hashmap">HashMap</h2><p id="s7cmy_614">数组+链表</p><ul class="list _bullet" id="s7cmy_615"><li class="list__item" id="s7cmy_616"><p>红黑树:</p></li><li class="list__item" id="s7cmy_617"><p>接近平衡的二叉搜索树,在每个节点上增加一个存储位表示节点的颜色,可以是Red 可以是Black,通过对任何一条从根到叶子的路径上各个节点着色方式的限制,红黑树确保没有一条 路径会比其他路径长处两倍,因而是接近平衡的 </p><ul class="list _bullet" id="s7cmy_618"><li class="list__item" id="s7cmy_619"><p>支持查找,插入,删除等操作,复杂度最坏为O(logn)</p></li><li class="list__item" id="s7cmy_620"><p>每个节点要么红要么黑</p></li><li class="list__item" id="s7cmy_621"><p>根节点是黑的</p></li><li class="list__item" id="s7cmy_622"><p>每个叶子节点(叶节点即指树尾端NIL指针或NULL节点)都是黑的</p></li><li class="list__item" id="s7cmy_623"><p>如果一个节点是红的,那么他的两个子节点都是黑的</p></li><li class="list__item" id="s7cmy_624"><p>对于任意节点而言,其到叶子节点树尾端NIL指针的每条路径都包含相同数目的黑节点 数组长度必须2的指数幂 寻找最近的较大的2的指数幂</p></li></ul></li></ul><p id="s7cmy_625">线程不安全 多线程扩容 会形成环形链表</p><p id="s7cmy_626">扩容因子:0.75</p></section><section class="chapter"><h2 id="spring" data-toc="spring">Spring</h2><section class="chapter"><h3 id="springioc" data-toc="springioc">SpringIOC</h3><section class="chapter"><h4 id="s7cmy_627" data-toc="s7cmy_627">控制反转(目的) 依赖注入(手段)</h4><ol class="list _decimal" id="s7cmy_628" type="1"><li class="list__item" id="s7cmy_629"><p>谁控制谁 IOC控制对象</p></li><li class="list__item" id="s7cmy_630"><p>控制什么 对象</p></li><li class="list__item" id="s7cmy_631"><p>为什么要反转</p></li><li class="list__item" id="s7cmy_632"><p>哪些方面反转了 创建权力反转</p></li></ol></section></section><section class="chapter"><h3 id="applicationcontext" data-toc="applicationcontext">ApplicationContext</h3><ul class="list _bullet" id="s7cmy_633"><li class="list__item" id="s7cmy_634"><p>ApplicationContext</p></li><li class="list__item" id="s7cmy_635"><p>BeanFactory </p><ul class="list _bullet" id="s7cmy_636"><li class="list__item" id="s7cmy_637"><p>IOC容器 </p><ul class="list _bullet" id="s7cmy_638"><li class="list__item" id="s7cmy_639"><p>singletonObjects 单例缓存池</p></li><li class="list__item" id="s7cmy_640"><p>BeanDefinitionSet ...一系列组件 Spring Bean 生命周期 @controller等注解被解析成BeanDefinitionSet-&gt; bean定义对象-&gt;BeanFactoryPostProcessor-&gt;getBean()-&gt;BeanPostProcessor-&gt;单例对象生成好</p></li></ul></li></ul></li></ul></section><section class="chapter"><h3 id="springboot" data-toc="springboot">SpringBoot</h3><ul class="list _bullet" id="s7cmy_641"><li class="list__item" id="s7cmy_642"><p>自动装配</p></li><li class="list__item" id="s7cmy_643"><p>自动流程{ jar包 war包 }</p></li><li class="list__item" id="s7cmy_644"><p>@Import</p></li></ul></section></section><div class="last-modified">Last modified: 30 四月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="算法.html" class="navigation-links__prev">Table of Contents</a><a href="wx.html" class="navigation-links__next">微信小程序</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>